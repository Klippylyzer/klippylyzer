{"mappings":"ydAAA,IAAAA,EAAAC,EAAA,S,qHAoCe,SAAAC,EAAmBC,G,IAAAC,EAAAD,EAAEC,MAC5BC,EAAQC,EAAAC,OAAgB,MACIC,EAE1BR,EAAAS,cAF0BH,EAAAI,SAE/B,MAAK,GAFDC,EAA2BH,EAE1B,GAFUI,EAAgBJ,EAE1B,GAmBR,OAjBAF,EAAAO,WAAU,WACPb,EAAAc,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,I,IACOC,EACAC,EAEAC,EAEDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EACAC,E,kEADX,IALMT,EAAQU,EAAAC,aAAa1B,GACrBgB,EAAOW,OAAOX,KAAKD,EAAM,IAEzBE,EAAYU,OAAOC,YAAYZ,EAAKa,KAAI,SAACC,G,MAAM,CAACA,EAAG,IAAIC,MAAMhB,EAAMiB,aAEpEd,GAAS,EAATC,GAAS,EAATC,OAASa,E,SAATZ,EAAaL,EAAIkB,OAAAC,cAAjBjB,GAAAI,EAAAD,EAASe,QAAAC,MAATnB,GAAS,EACZ,IADSK,EAAND,EAASgB,MACHd,EAAI,EAAGA,EAAIT,EAAMiB,OAAQR,IAChCP,EAAUM,GAAKC,GAAKT,EAAMS,GAAGD,G,gDAF5BJ,GAAS,EAATC,EAASmB,EAAAC,G,4BAATtB,GAAS,MAATG,EAASoB,QAATpB,EAASoB,S,sBAATtB,EAAS,C,sBAATC,E,gEAMLZ,EAAaS,G,0EAZdrB,KAcA,CAACI,IAEAO,EAEAmC,EAAAC,KAAC,MAAG,C,UACFD,EAAAE,IAAC,KAAE,C,SAAC,oBAEJF,EAAAE,IAACjC,EAAAkC,GAAO,CACNzC,IAAKH,EACL6C,QAASC,EACTC,OAAQ,CACNC,UAAU,EACVC,UAAW,CAAEC,MAAO,sBACpBC,MAAO,CACLC,KAAM,eACNH,UAAW,CAAEC,MAAO,uBAEtBG,QAAS,CACPC,QAAS,CACPC,SAAU,CAAEC,WAAY,QACxBC,YAAa,KAGjBC,QAAS,CAAEC,QAAS,QACpBJ,SAAU,CAAC,CAAEK,KAAM,UAAY,CAAEA,KAAM,WACvCC,OAAQ,CACNZ,UAAW,CAAEC,MAAO,sBACpBY,KAAMpC,OAAOX,KAAKT,GAAWyD,QAAO,SAAClC,G,MAAY,SAANA,MAE7CmC,MAAO,CAAEJ,KAAM,WAAYE,KAAMxD,EAAU2D,MAC3CC,MAAO,CAAEN,KAAM,SACfO,OAAQzC,OAAO0C,QAAQ9D,GACpByD,QAAO,SAAAM,G,MAAe,S,qBAAZ,MACVzC,KAAI,SAAAyC,G,iCAAa,CAAEC,KAAZC,EAAA,GAAqBX,KAAM,OAAQE,KAAhCS,EAAA,aAOhB9B,EAAAE,IAAC,MAAG,C,SAAC,eA7EdG,EAAQ0B,IAAI,CACVC,EAAAC,UACAD,EAAAE,WACAC,EAAAC,cACAD,EAAAE,iBACAF,EAAAG,gBACAH,EAAAI,iBACAJ,EAAAK,eACAC,EAAAC,eACAP,EAAAQ,kBACAR,EAAAS,wBACAT,EAAAU,wBACAV,EAAAW,sB","sources":["src/Routes/KlippyLog/TempGraph.tsx"],"sourcesContent":["import { LineChart, LinesChart } from \"echarts/charts\";\r\nimport {\r\n  DatasetComponent,\r\n  DataZoomComponent,\r\n  DataZoomInsideComponent,\r\n  DataZoomSliderComponent,\r\n  GridComponent,\r\n  LegendComponent,\r\n  TitleComponent,\r\n  ToolboxComponent,\r\n  TooltipComponent,\r\n} from \"echarts/components\";\r\nimport * as echarts from \"echarts/core\";\r\nimport { CanvasRenderer } from \"echarts/renderers\";\r\nimport ECharts from \"echarts-for-react/lib/core\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Stats } from \"../../types\";\r\nimport { statsToTemps } from \"../../utils\";\r\n\r\necharts.use([\r\n  LineChart,\r\n  LinesChart,\r\n  GridComponent,\r\n  DatasetComponent,\r\n  LegendComponent,\r\n  TooltipComponent,\r\n  TitleComponent,\r\n  CanvasRenderer,\r\n  DataZoomComponent,\r\n  DataZoomInsideComponent,\r\n  DataZoomSliderComponent,\r\n  ToolboxComponent,\r\n]);\r\ntype Props = { stats: Stats[]; left?: number; right?: number };\r\n\r\nexport default function TempGraph({ stats }: Props) {\r\n  const chart = useRef<ECharts>(null);\r\n  const [chartData, setChartData] = useState<null | {\r\n    [key: string]: number[];\r\n  }>(null);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const temps = statsToTemps(stats);\r\n      const keys = Object.keys(temps[0]);\r\n\r\n      const chartData = Object.fromEntries(keys.map((k) => [k, new Array(temps.length)]));\r\n\r\n      for (const key of keys) {\r\n        for (let i = 0; i < temps.length; i++) {\r\n          chartData[key][i] = temps[i][key];\r\n        }\r\n      }\r\n\r\n      setChartData(chartData);\r\n    })();\r\n  }, [stats]);\r\n\r\n  if (chartData) {\r\n    return (\r\n      <div>\r\n        <h4>Temps over time</h4>\r\n\r\n        <ECharts\r\n          ref={chart}\r\n          echarts={echarts}\r\n          option={{\r\n            darkMode: true,\r\n            textStyle: { color: \"rgb(229, 231, 235)\" },\r\n            title: {\r\n              text: \"Temperatures\",\r\n              textStyle: { color: \"rgb(229, 231, 235)\" },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: { yAxisIndex: \"none\" },\r\n                saveAsImage: {},\r\n              },\r\n            },\r\n            tooltip: { trigger: \"axis\" },\r\n            dataZoom: [{ type: \"slider\" }, { type: \"inside\" }],\r\n            legend: {\r\n              textStyle: { color: \"rgb(229, 231, 235)\" },\r\n              data: Object.keys(chartData).filter((k) => k !== \"time\"),\r\n            },\r\n            xAxis: { type: \"category\", data: chartData.time },\r\n            yAxis: { type: \"value\" },\r\n            series: Object.entries(chartData)\r\n              .filter(([k]) => k !== \"time\")\r\n              .map(([k, v]) => ({ name: k, type: \"line\", data: v })),\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <div>Loading...</div>;\r\n}\r\n"],"names":["$5Sbbl","parcelRequire","$996412f894266919$export$2e2bcd8739ae039","param1","stats","chart","$6cds3","useRef","ref","slicedToArray","useState","chartData1","setChartData","useEffect","asyncToGenerator","$parcel$interopDefault","$4Z8U5","mark","_callee","temps","keys","chartData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","key","i","$dHI7O","statsToTemps","Object","fromEntries","map","k","Array","length","undefined","Symbol","iterator","next","done","value","_ctx","t0","return","$lBpE3","jsxs","jsx","$jubMy","echarts","$caeCS","option","darkMode","textStyle","color","title","text","toolbox","feature","dataZoom","yAxisIndex","saveAsImage","tooltip","trigger","type","legend","data","filter","xAxis","time","yAxis","series","entries","param","name","_param","use","$5O9u4","LineChart","LinesChart","$3fYuu","GridComponent","DatasetComponent","LegendComponent","TooltipComponent","TitleComponent","$5RUSV","CanvasRenderer","DataZoomComponent","DataZoomInsideComponent","DataZoomSliderComponent","ToolboxComponent"],"version":3,"file":"TempGraph.f512c104.js.map"}