import{n as b,k as x,r as o,j as a,t as n,a as r,N as p,b as y}from"./index.42fbafd1.js";import{P as h,a as N}from"./tomorrow.7237b223.js";import"./_commonjsHelpers.4e997714.js";var L=u;u.displayName="ini";u.aliases=[];function u(t){t.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}var w=L;h.registerLanguage("ini",w);function D(){const{backupId:t,"*":i}=b(),l=x(),[c,v]=o.exports.useState(void 0),[e,k]=o.exports.useState(void 0);o.exports.useEffect(()=>{!(t&&i)||l.get("backup",parseInt(t)).then(s=>{var m;if(!s)return;v(s);const f=(m=s.files.find(({name:d})=>d===i))==null?void 0:m.id;!f||l.get("backupFile",f).then(d=>{k(d)})})},[l,t,i]);const g=o.exports.useMemo(()=>e?new TextDecoder("utf-8").decode(e.contents):"Loading...",[e]);return a("div",{children:[a("h3",{className:n("text-lg","breadcrumbs"),children:[a("ul",{children:[r("li",{children:r(p,{to:"/moonraker/backups",className:n("text-gray-600","dark:text-gray-400"),children:"Backups"})}),a("li",{children:[" ",r(p,{to:`/moonraker/backups/${t}`,className:n("text-gray-600","dark:text-gray-400"),children:c==null?void 0:c.name})]}),a("li",{children:[i," ",e&&r("a",{download:e.path.slice(e.path.lastIndexOf("/")+1),href:URL.createObjectURL(new Blob([e.contents])),className:n("pl-2"),children:r(y,{size:"1.5rem",className:n("inline-block")})})]})]}),a("small",{className:n("float-right","text-gray-600","dark:text-gray-400"),children:["last modified ",e?new Date(e.modified*1e3).toLocaleString():"..."]})]}),r(h,{language:"log",style:N,children:g})]})}export{D as default};
//# sourceMappingURL=BackupFile.bdb8d60c.js.map
