import{n as m,k as x,r as i,j as n,a as e,t as c,N as l,o as b,O as k}from"./index.3ff91169.js";function y(){const{backupId:r}=m(),s=x(),[a,h]=i.exports.useState(),[o,u]=i.exports.useState([]);return i.exports.useEffect(function(){!r||s.get("backup",parseInt(r)).then(t=>h(t))},[r,s]),i.exports.useEffect(function(){if(!a)return;const t=a.files.map(d=>d.id);s.getAllFromIndex("backupFile","by-id",IDBKeyRange.bound(Math.min(...t),Math.max(...t))).then(d=>u(d.filter(f=>a.files.map(({id:p})=>p).indexOf(f.id)!==-1)))},[a,s]),a?n("div",{children:[e("h3",{className:c("text-lg","breadcrumbs"),children:n("ul",{children:[e("li",{children:e(l,{to:"/moonraker/backups",className:c("text-gray-600","dark:text-gray-400"),children:"Backups"})}),e("li",{children:a.name})]})}),n("table",{children:[e("thead",{children:n("tr",{children:[e("th",{children:"Filename"}),e("th",{children:"Size"}),e("th",{children:"Last Modified"})]})}),e("tbody",{children:o.map(t=>n("tr",{children:[e("td",{children:e(l,{to:`file/${t.path}`,children:t.path})}),e("td",{children:b(t.size)}),e("td",{children:new Date(t.modified).toLocaleString()}),e("td",{})]},t.id))})]}),e(k,{})]}):null}export{y as default};
